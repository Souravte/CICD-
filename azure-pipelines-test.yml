# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- none

pool:
  vmImage: ubuntu-latest

variables:
  PAT_TOKEN: 7vqmliwuj7jw74wm4wroriyy3lsz2mwoaj6kb7cnne23y53zcx5a
  VAR1: val1
  VAR2: ${{ parameters.PARAM }}
  TESTURL: "$(System.CollectionUri)/$(System.TeamProject)/test"
  var3: val3

parameters:
- name: PARAM
  type: string

steps:
- task: AzureCLI@2
  inputs:
    azureSubscription: 'sub_sc'
    scriptType: 'bash'
    scriptLocation: 'scriptPath'
    scriptPath: './test-script.sh'
    arguments: '$(PAT_TOKEN) $(VAR1) ${{ parameters.PARAM }} $(VAR2) $(TESTURL) $(var3)'